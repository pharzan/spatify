server {
    listen 80;
    
    # Disable absolute redirects to preserve the host port (e.g. 8080) when running in Docker
    absolute_redirect off;
    
    # Root directory for serving files
    root /usr/share/nginx/html;
    
    # Handle the basePath /spatify
    location /spatify/ {
        alias /usr/share/nginx/html/;
        try_files $uri $uri.html $uri/ =404;
    }

    # Handle root requests (optional, redirect to /spatify or serve same content)
    location / {
        try_files $uri $uri.html $uri/ =404;
    }
}
